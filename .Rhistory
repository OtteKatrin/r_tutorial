continents <- read.csv(
file = "./raw_data/continents.csv",
sep = ";"
)
# Chunk 5
winners_continents <- merge(
x = winners,
y = continents,
by.x = "Nationality",
by.y = "Entity"
)
head(winners_continents)
# Chunk 6
winners_continents$Seconds_total <- winners_continents$Hours * 60^2 +
winners_continents$Minutes * 60 +
winners_continents$Seconds
head(winners_continents)
load(here::here("raw_data", "winners_raw.rda"))
## Introduce some NAs
na_rows <- c(2, 5, 8, 100, 54)
winners_raw[na_rows, "Hours"] <- NA
winners <- winners_raw %>%
select(-c("Time"))
saveRDS(as.data.frame(winners), file = here::here("raw_data", "winners.rds"))
winners <- readRDS(file = "./raw_data/winners.rds")
winners
# Chunk 1: setup
library(readr)
# Chunk 3: load_packages
library(tidyverse)
# Chunk 5
babynames <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-03-22/babynames.csv')
# Chunk 6
babynames <- as.data.frame(babynames)
# Chunk 8
str(babynames)
## Introduce some NAs
na_rows <- c(1, 4, 8, 40, 54)
babynames$ID <- 1:nrow(babynames)
babynames <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-03-22/babynames.csv')
## Introduce some NAs
na_rows <- c(1, 4, 800)
babynames[na_rows, "year"] <- NA
babynames$ID <- 1:nrow(babynames)
babynames_n <- babynames[, c("ID", "n")]
babynames <- babynames[, -4]
saveRDS(as.data.frame(babynames), file = here::here("raw_data", "babynames.rds"))
saveRDS(as.data.frame(babynames_n), file = here::here("raw_data", "babynames_n.rds"))
babynames <- readRDS("./raw_data/babynames.RDS")
str(babynames)
is.na(babynames)
any(is.na(babynames))
colSums(is.na(babynames))
str(babynames)
summarise(babynames)
summary(babynames)
# Chunk 1
dat_structs <- data.frame(" " = c("1d", "2d", "nd"),
Homogeneous = c("atomic vector", "matrix", "array"),
Heterogeneous = c("list", "data.frame", "")
)
knitr::kable(dat_structs, "pipe",
col.names = c("", "Homogeneous", "Heterogeneous")
)
# Chunk 2
num_vec <- c(2023, 8, 8)
num_vec
char_vec <- c("This", "is", "a", "vec", ".")
char_vec
log_vec <- c(TRUE, FALSE)
log_vec
# Chunk 3
str(num_vec)
str(char_vec)
str(log_vec)
# Chunk 4
mean(char_vec)
# Chunk 5
persons <- data.frame(name = c("Anna", "Alex", "John", "Jessi"),
age = c(19, 17, 18, 18),
birth_month = c("Jan", "Sep", "Oct", "Mar"),
big5_extro = c(3.5, 2, 4.5, 4.2)
)
# Chunk 6
persons_tibble <- tibble::tibble(
name = c("Anna", "Alex", "John", "Jessi"),
age = c(19, 17, 18, 18),
birth_month = c("Jan", "Sep", "Oct", "Mar"),
big5_extro = c(3.5, 2, 4.5, 4.2)
)
persons_tibble
# Chunk 7
personality_rating <- list(
big5 = data.frame(name = c("Jessi", "John"),
extraversion = c(4.3, 2),
openness = c(3.8, 4)),
rating_type = "self_rating"
)
personality_rating
# Chunk 9
str(persons)
summary(persons)
personality_rating <- list(
big5 = data.frame(name = c("Jessi", "John"),
extraversion = c(4.3, 2),
openness = c(3.8, NA)),
rating_type = "self_rating"
)
personality_rating
summary(babynames)
babynames <- drop_na(babynames)
str(babynames)
babynames_n <- readRDS("./raw_data/babynames_n.RDS")
str(babynames_n)
babynames <- readRDS("./raw_data/babynames.RDS")
str(babynames)
babynames_merged <- merge(babynames, babynames_n)
babynames_merged <- merge(babynames, babynames_n)
head(babynames_merged)
babynames <- readRDS("./raw_data/babynames.RDS")
babynames_merged <- merge(babynames, babynames_n)
head(babynames_merged)
# Chunk 1: setup
library(readr)
# Chunk 3: load_packages
library(tidyverse)
# Chunk 4
babynames <- readRDS("./raw_data/babynames.RDS")
# Chunk 6
str(babynames)
# Chunk 7
babynames <- readRDS("./raw_data/babynames.RDS")
# Chunk 8
babynames_merged <- merge(babynames, babynames_n)
head(babynames_merged)
babynames_merged <- drop_na(babynames_merged)
table(babynames_merged$name)
max(table(babynames_merged$name))
order(table(babynames_merged$name))
table(babynames_merged$name)[order(table(babynames_merged$name))]
?order
table(babynames_merged$name)[order(table(babynames_merged$name), decreasing = TRUE)]
babynames_mary <- babynames %>%
filter(names == "Mary")
library(dplyr)
babynames_mary <- babynames %>%
filter(names == "Mary")
str(babynames_merged)
babynames_mary <- babynames %>%
filter(name == "Mary")
ggplot(data = babynames_mary,
x = year,
y = prop)
ggplot(data = babynames_mary,
x = year,
y = prop) +
geom_hist(9)
ggplot(data = babynames_mary,
x = year,
y = prop) +
geom_hist()
ggplot(data = babynames_mary,
x = year,
y = prop) +
geom_histogram()
ggplot(data = babynames_mary,
aes(x = year,
y = prop)) +
geom_histogram()
ggplot(data = babynames_mary,
aes(x = year,
y = prop)) +
geom_bar()
ggplot(data = babynames_mary,
aes(x = year,
y = prop)) +
geom_point()
babynames_mary <- babynames %>%
filter(name == "Brittany")
ggplot(data = babynames_mary,
aes(x = year,
y = prop)) +
geom_point()
ggplot(data = babynames_mary,
aes(x = year)) +
geom_col(aes(y = n))
str(babynames_mary)
babynames_mary <- babynames_merged %>%
filter(name == "Brittany")
str(babynames_mary)
ggplot(data = babynames_mary,
aes(x = year)) +
geom_col(aes(y = n))
ggplot(data = babynames_mary,
aes(x = year)) +
geom_col(aes(y = prop))
babynames_mary %>%
group_by(year) %>%
summarise(max(prop))
babynames %>%
group_by(year) %>%
summarise(max(prop))
babynames %>%
group_by(year) %>%
count(name)
babynames %>%
group_by(year) %>%
count(name) %>%
summarise(max(n))
babynames %>%
group_by(year) %>%
slice(which.max(n))
babynames %>%
group_by(year) %>%
slice(which.max(n))
str(babynames)
babynames_merged %>%
group_by(year) %>%
slice(which.max(n))
babynames_merged %>%
group_by(year, sex) %>%
slice(which.max(n))
ggplot(data = babynames_merged,
aes(x = year)) +
geom_col(aes(y = n))
ggplot(data = babynames_merged %>% filter(sex == "F"),
aes(x = year)) +
geom_col(aes(y = n)) +
geom_label(name)
ggplot(data = babynames_merged %>% filter(sex == "F"),
aes(x = year)) +
geom_col(aes(y = n)) +
geom_label(name)
ggplot(data = babynames_merged %>% filter(sex == "F"),
aes(x = year)) +
geom_col(aes(y = n))
ggplot(data = babynames_merged %>% filter(sex == "F"),
aes(x = year)) +
geom_col(aes(y = n)) +
geom_text(aes(label = name), vjust = -0.2)
ggplot(data = babynames_merged %>% filter(sex == "F"),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), vjust = -0.2)
ggplot(data = babynames_merged %>% filter(sex == "F", year > 2000),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), vjust = -0.2)
?geom_col
babynames_merged %>% filter(sex == "F", year > 2000)
babynames_max <- babynames_merged %>%
group_by(year, sex) %>%
slice(which.max(n))
ggplot(data = babynames_max %>% filter(sex == "F", year > 2000),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), vjust = -0.2)
ggplot(data = babynames_max %>% filter(sex == "F", year > 2000),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), vjust = -0.2, angle = 90)
ggplot(data = babynames_max %>% filter(sex == "F", year > 2000),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), vjust = 1, angle = 90)
ggplot(data = babynames_max %>% filter(sex == "F", year > 2000),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), hjust = 1, angle = 90)
ggplot(data = babynames_max %>% filter(sex == "F", year > 2000),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), hjust = - 1, angle = 90)
ggplot(data = babynames_max %>% filter(sex == "F", year > 2000),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), angle = 90)
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = n)) +
geom_col() +
geom_text(aes(label = name), angle = 90)
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = prop)) +
geom_col() +
geom_text(aes(label = name), angle = 90)
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = prop, fill = name)) +
geom_col() +
geom_text(aes(label = name), angle = 90)
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = prop, fill = name)) +
geom_col()
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = prop, fill = name)) +
geom_col() +
theme_classic()
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = prop, fill = name)) +
geom_col() +
theme_classic() +
scale_fill_manual(values="Dark2")
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = prop, fill = name)) +
geom_col() +
theme_classic() +
scale_fill_brewer(palette="Set1")
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = prop, fill = name)) +
geom_col() +
theme_classic() +
scale_fill_brewer(palette="Dark2")
ggplot(data = babynames_max %>% filter(sex == "F"),
aes(x = year, y = prop, fill = name)) +
geom_col() +
theme_classic() +
scale_fill_brewer(palette="Set3")
ggplot(data = babynames_max %>% filter(sex == "M"),
aes(x = year, y = prop, fill = name)) +
geom_col() +
theme_classic() +
scale_fill_brewer(palette="Set3")
babynames_F <- babynames_merged %>%
filter(sex == "F")
babynames_F_max <- babynames_F %>%
group_by(year, sex) %>%
slice(which.max(n))
babynames_F_max <- babynames_F %>%
group_by(year) %>%
slice(which.max(n))
ggplot(data = babynames_F_max,
aes(x = year,
y = n,
fill = name)) +
geom_col() +
theme_classic() +
scale_fill_brewer(palette="Set3")
babynames_F_max <- babynames_F %>%
group_by(year) %>%
slice(which.max(prop))
ggplot(data = babynames_F_max,
aes(x = year,
y = prop,
fill = name)) +
geom_col() +
theme_classic() +
scale_fill_brewer(palette="Set3")
source("~/.active-rstudio-document", echo=TRUE)
babynames_F_max <- babynames_F_grouped %>%
slice(which.max(prop))
babynames_F_grouped <- babynames_F %>%
group_by(year)
babynames_F_max <- babynames_F_grouped %>%
slice(which.max(prop))
head(babynames_F_max)
ggplot(data = babynames_F_max,
aes(x = year,
y = prop,
fill = name)) +
geom_col() +
geom_line()
ggplot(data = babynames_F_max,
aes(x = year,
y = prop,
fill = name)) +
geom_col() +
geom_point()
styler:::style_active_file()
ggplot(
data = babynames_F_max,
aes(
x = year,
y = prop,
fill = name
)
) +
geom_col() +
theme_classic() +
scale_fill_brewer(palette = "Set3")
ggplot(
data = babynames_F_max,
aes(
x = year,
y = prop,
fill = name
)
) +
geom_col() +
theme_bw() +
scale_fill_brewer(palette = "Set3")
?labs
ggplot(
data = babynames_F_max,
aes(
x = year,
y = prop,
fill = name
)
) +
geom_col() +
ggtitle("Most common female name in the United States of America by year") +
xlab("Birthyear") +
ylab("Proportion of children given that name relative to total births")
theme_bw() +
scale_fill_brewer(palette = "Set3")
ggplot(
data = babynames_F_max,
aes(
x = year,
y = prop,
fill = name
)
) +
geom_col() +
ggtitle("Most common female name in the United States of America by year") +
xlab("Birthyear") +
ylab("Proportion of children given that name relative to total births") +
theme_bw() +
scale_fill_brewer(palette = "Set3")
babynames_F$percentage <- babynames_F$prop * 100
babynames_F$percentage
babynames_F_grouped <- babynames_F %>%
group_by(year)
babynames_F_max <- babynames_F_grouped %>%
slice(which.max(percentage))
head(babynames_F_max)
p +
theme_bw() +
scale_fill_brewer(palette = "Set3")
# Chunk 1: setup
library(readr)
# Chunk 3: load_packages
library(tidyverse)
# Chunk 4
babynames <- readRDS("./raw_data/babynames.RDS")
# Chunk 6
str(babynames)
# Chunk 7
babynames <- readRDS("./raw_data/babynames.RDS")
# Chunk 8
babynames_merged <- merge(babynames, babynames_n)
head(babynames_merged)
# Chunk 9
babynames_merged <- drop_na(babynames_merged)
# Chunk 10
babynames_F <- babynames_merged %>%
filter(sex == "F")
# Chunk 11
babynames_F$percentage <- babynames_F$prop * 100
# Chunk 12
babynames_F_grouped <- babynames_F %>%
group_by(year)
# Chunk 13
babynames_F_max <- babynames_F_grouped %>%
slice(which.max(percentage))
head(babynames_F_max)
# Chunk 14
p <- ggplot(
data = babynames_F_max,
aes(
x = year,
y = percentage)
)
# Chunk 15
p <- ggplot(
data = babynames_F_max,
aes(
x = year,
y = percentage,
fill = name
)
)
# Chunk 16
p <- p +
geom_col()
p
# Chunk 17
p <- p +
ggtitle("Most common female name in the United States of America by year") +
xlab("Birthyear") +
ylab("Percentage of children given that name relative to total births")
p
p +
theme_bw() +
scale_fill_brewer(palette = "Set3")
plot(p)
#| label: plot-smaller-diamonds
#| echo: false
p +
theme_bw() +
scale_fill_brewer(palette = "Set3")
#| label: plot-smaller-diamonds
#| echo: false
p +
theme_bw() +
scale_fill_brewer(palette = "Set3")
library(readr)
#| label: plot-smaller-diamonds
#| echo: false
p +
theme_bw() +
scale_fill_brewer(palette = "Set3")
# Chunk 1: setup
library(readr)
# Chunk 3: load_packages
library(tidyverse)
# Chunk 4
babynames <- readRDS("./raw_data/babynames.RDS")
# Chunk 6
str(babynames)
babynames_n <- readRDS("./raw_data/babynames_n.RDS")
babynames <- readRDS("./raw_data/babynames.RDS")
babynames <- readRDS("./raw_data/babynames.RDS")
