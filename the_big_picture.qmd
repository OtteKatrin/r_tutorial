---
title: "The big picture"
execute:
  eval: false
---
```{r setup, echo = FALSE, message = FALSE}
library(readr)
```


# The big picture

Now that we have completed our set up, let's dive right into programming with `R`. In this chapter, we will go through a "mini-project", which follows a typical workflow when working with data in `R`. We will install and load packages, load data, perform some operations on this data, calculate some summary statistics and plot them. In later chapters, we will go into a little bit more depth for each topic. If you want to have more in depth information instead of following the whole workflow first, you can also skip this chapter and jump to the chapters and exercises you are interested in. But make sure to do the final exercise, to test you R proficiency in the end.

## Packages

[Packages](https://nickhaf.github.io/r_tutorial/packages.html) are extensions to the `base R` you get by default. We already installed our first packages in [About this workshop](https://nickhaf.github.io/r_tutorial/setup.html#about-this-workshop). Let's keep doing that and install the following package as well:

```{r install_tidyverse, eval = FALSE}
install.packages("tidyverse")
```

The `tidyverse` is a collection of packages following a common philosophy, and facilitate many aspects of coding in R, for example data wrangling and plotting. We will use both functions from base R and from the `tidyverse`.

Just by installing the packages, we can't use them. We also have to load them into our R session:

```{r load_packages}
library(tidyverse)
```

## Load Data

Data is loaded into R so you can work with it. 
For this chapter, we are going to use the data set `babynames`, which we can find on the `tidytuesday` site. Because it is a `.csv` file, we have to install the additional package `readr` before we can read it:

```{r, eval = FALSE}
install.packages("readr")
library(readr)
```

No we can load the data: 
```{r}
babynames <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-03-22/babynames.csv')
babynames <- as.data.frame(babynames)
```

Yes, we can read in `.csv` data simply by using an URL if provided. There are many different data formats and ways to load data, refer to [load data](\load_data.qmd) for more information. 

The above code will load the data into R and assigning it the name `babynames` by using the `<-`. 
You can see the data popping up in your `Environment` pane on the upper right.
Don't worry about `as.data.frame()` function. It's not really relevant right now. 

## Take a look

Now that we have our data loaded safely into R, we can get an overview with a multitude of commands. One of the most important ones might be `View()`, which will open the data set excel-style in a new window:

```{r, eval = FALSE}
View(babynames)
```

Especially for bigger data sets, it might be more feasible to only look at the structure and not the whole data set:

```{r}
str(babynames)
```

On the left we can see the columns of this data.frame, named `year`, `sex`, `names`, `n` and `prop`. On the right we see the first values in each column, for example `1880`, `1980`, `1980` etc ... in the `year`-column.

## Data wrangling

Now, lets do something with this data. We want to look at the developement of names over the years. 

## Missings?


## Merging?


### Subsetting data

One very important part of working with data in R is the [subsetting](subsetting.qmd) of data. This means we select specific values from a data set.

### Regression Time vs. year

```{r, eval = FALSE}
```


## Plot the data


## Conclusion

In this tutorial we learned, that R is a flexible tool for editing and plotting data. Of course, we barely scratched the surface. Therefore, we want to dive a bit deeper into each step. Either follow the course, or navigate to the chapters you are most interested in.


Foto von <a href="https://unsplash.com/de/@rocinante_11?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Mick Haupt</a> auf <a href="https://unsplash.com/de/fotos/DgugiZUfH9k?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
  


## Final Exercise

```{r, eval = FALSE}
# Für die Übung. 
#install.packages("tidytuesdayR")
library(tidytuesdayR)
tuesdata <- tidytuesdayR::tt_load('2022-08-16')


```
