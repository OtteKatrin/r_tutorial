---
title: "Merging data"
---

```{r, echo = FALSE}
source(here::here("output_hook.R"))
```

## Data set

Suppose we want to look at the winners by continent (see [last chapter](../subsetting/subsetting.qmd) for the data set). In this case, we will have to add a list assigning each Nationality a continent. We can easily find such a list online, for example at [ourworldindata.org](https://ourworldindata.org/grapher/continents-according-to-our-world-in-data). I have already [downloaded](https://github.com/nickhaf/r_tutorial/tree/main/raw_data) the `.csv`, and we have already loaded it into R in the exercise 2 of [load data](../load_data/load_data_exercise.qmd):

```{r}
winners <- readRDS(file = here::here("raw_data", "winners.rds"))

continents <- read.csv(
  file = here::here("raw_data", "continents.csv")
)
```

## Wide and long format

## Merging

To merge two data frames that include information that belongs together, we need a common column, on which we can combine them. In our case, this is the column containing the country, but they are named differently. This doesn't pose a problem, as we can define which columns should be taken from which data frame for merging:

```{r}
winners_continents <- merge(
  x = winners,
  y = continents,
  by.x = "Nationality",
  by.y = "Entity"
)
head(winners_continents)
```

Great! Now the information that belongs together is stored together.
