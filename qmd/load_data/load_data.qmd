---
title: "Loading data"
---

## Data types {#data-types}

There are many different data types out there, most of which can also be loaded into R. Depending on the type, different commands are used. Sometimes, we will have to use additional packages to get access to that function, mainly `readxl` and `haven`.

```{r, results = 'asis', echo = FALSE}
formats_dat <- data.frame("Data type" = c("R objects (.Rdata, .rda)", 
                                       "single R object (.Rds)", 
                                       "text-files (.txt)",
                                       ".csv-files (.csv)",
                                       "Excel-files (.xlsx)",
                                       "SPSS-files (.sav)", 
                                       "SAS-files (.sas)", 
                                       "Stata-files (.stata)"
                                       ),
                          Import = c("````load()````",
                                       "````readRDS()````",
                                       "````read.table()````",
                                       "````read.csv()````",
                                       "````readxl::read_excel()````",
                                       "````haven::read_sav()````",
                                       "````haven::read_sas()````",
                                       "````haven::read_dta()````"),
                          Export = c("````save()````",
                                       "````saveRDS()````",
                                       "````write.table()````",
                                       "````write.csv()````",
                                       "````writexl::write_xlsx()````",
                                       "````haven::write_sav()````",
                                       "````haven::write_sas()````",
                                       "````haven::write_dta()````")
                          )

knitr::kable(formats_dat, "pipe")
```

## Absolute paths vs. relative paths

I can head to a specific file by using the full path (**absolute path**): `"C:\Users\hafiznij\Documents\GitHub\r_tutorial\raw_data\winners.rda"`. This approach has some disadvantages: it will only work on **my** notebook. If I want to continue my project on another device, I will have to change the path. The same goes for other people who want to work with my project. So, to keep these paths more reproducable, we should always use **relative paths**: `".\raw_data\winners.rda"`. This will always work independently of the device I am working on, as long as I am in the correct **working directory**.

The working directory is the path R is currently working in. I can obtain it by typing:

```{r}
getwd()
```

Luckily, we have already created a RStudio projects, which sets the working directory set automatically, so we don't really have to deal with that.

Now take a look at the working directory and the relative path I used for loading the `winners.rda`. Notice something? Correct, both paths combined equal the **absolute path** to the file. So by splitting it up, we obtain a more reproducible path, that works independent of where the current working directory is.

## The `here` package

Another great way to deal with the path confusion is to use the `here` package. It can build the paths relative to the directory where your RStudio project is saved in. For example, `".\raw_data\winners.rda"` becomes `here::here("raw_data", "winners.rda")`. This is not increadibly important right now, but I need to mention it because I have to use these path structures sometimes during the tutorial, so don't be confused! It is just another way to build file paths. Look [here](https://here.r-lib.org/) (:D) if you want to learn more about the package.

## Example

Let's load our Olympic athletes data set into R. When we look into our [table](#Data-types) we can see we have to use the `readRDS()` function for loading `.rds` files. In case you wonder what the `here::here()` part means look at the section about [the `here` package](https://nickhaf.github.io/r_tutorial/qmd/load_data/load_data.html#the-here-package). It facilitates working with file pahts in R. 

```{r}
athletes <- readRDS(file = here::here("raw_data", "athletes.rds"))
```
