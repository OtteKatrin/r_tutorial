{
  "hash": "54cb26aacd66f2f97bf216146af18fe3",
  "result": {
    "markdown": "---\ntitle: \"Merging: Exercise\"\n---\n\n\nNow we have gotten to know our `characters` data set a bit more. However, the personality ratings are not included yet. \nFor that, we need to load the `psych_stats` data set as well, which contains the ratings for all characters. We have already done that in [Exercise 2 of the Load data chapter](https://nickhaf.github.io/r_tutorial/qmd/load_data/load_data_exercise.html#exercies-2), so here is the code again: \n\n\n::: {.cell}\n\n:::\n\n\n::: {.calout-caution icon=\"false\"}\n\n::: {.cell}\n\n```{.r .cell-code}\npsych_stats <- read.csv(\n  file = here::here(\"raw_data\", \"psych_stats.csv\"),\n  sep = \";\"\n)\n```\n:::\n\n:::\n\nNow we want to combine both data frames into one, so all information belonging together can be found in the same data frame. \n\n## Exercise 1\nMerge the `characters` data frame and the `psych_stats` data frame on a common column.\n\n::: {.callout-tip collapse=\"true\"}\n## Hint\nIdentify the common columns. Are they named the same in both data frames? Look at the documentation of `?merge` to see, how you can merge data frames that don't have identically named columns. \n:::\n\n::: {.callout-caution collapse=\"true\"}\n\n## Solution\nFirst, let`s take a look at both data sets again:\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(characters)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t889 obs. of  7 variables:\n $ id        : chr  \"F2\" \"F1\" \"F5\" \"F4\" ...\n $ name      : chr  \"Monica Geller\" \"Rachel Green\" \"Chandler Bing\" \"Joey Tribbiani\" ...\n $ uni_id    : chr  \"F\" \"F\" \"F\" \"F\" ...\n $ uni_name  : chr  \"Friends\" \"Friends\" \"Friends\" \"Friends\" ...\n $ notability: num  79.7 76.7 74.4 74.3 72.6 51.6 86.5 84.2 82.6 65.6 ...\n $ link      : chr  \"https://openpsychometrics.org/tests/characters/stats/F/2\" \"https://openpsychometrics.org/tests/characters/stats/F/1\" \"https://openpsychometrics.org/tests/characters/stats/F/5\" \"https://openpsychometrics.org/tests/characters/stats/F/4\" ...\n $ image_link: chr  \"https://openpsychometrics.org/tests/characters/test-resources/pics/F/2.jpg\" \"https://openpsychometrics.org/tests/characters/test-resources/pics/F/1.jpg\" \"https://openpsychometrics.org/tests/characters/test-resources/pics/F/5.jpg\" \"https://openpsychometrics.org/tests/characters/test-resources/pics/F/4.jpg\" ...\n```\n:::\n\n```{.r .cell-code}\nstr(psych_stats)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t356489 obs. of  7 variables:\n $ char_id       : chr  \"F2\" \"F2\" \"F2\" \"F2\" ...\n $ question      : chr  \"messy/neat\" \"disorganized/self-disciplined\" \"diligent/lazy\" \"on-time/tardy\" ...\n $ personality   : chr  \"neat\" \"self-disciplined\" \"diligent\" \"on-time\" ...\n $ avg_rating    : num  95.7 95.2 93.9 93.8 93.6 93.4 92.9 92.2 92.2 92.1 ...\n $ rank          : int  9 27 87 34 56 23 2 14 170 75 ...\n $ rating_sd     : num  11.7 11.2 10.4 14.3 13.4 14.5 15 17.3 12.1 11.1 ...\n $ number_ratings: int  1079 1185 1166 236 1168 1173 174 1196 129 1183 ...\n```\n:::\n:::\n\n\nIt seems like both data frames have a column containing an ID for the character. We can use that column for merging:\n\n::: {.cell}\n\n```{.r .cell-code}\ncharacters_stats <- merge(\n  x = characters,\n  y = psych_stats,\n  by.x = \"id\", \n  by.y = \"char_id\"\n)\n\nstr(characters_stats)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t356489 obs. of  13 variables:\n $ id            : chr  \"AD1\" \"AD1\" \"AD1\" \"AD1\" ...\n $ name          : chr  \"Michael Bluth\" \"Michael Bluth\" \"Michael Bluth\" \"Michael Bluth\" ...\n $ uni_id        : chr  \"AD\" \"AD\" \"AD\" \"AD\" ...\n $ uni_name      : chr  \"Arrested Development\" \"Arrested Development\" \"Arrested Development\" \"Arrested Development\" ...\n $ notability    : num  76.9 76.9 76.9 76.9 76.9 76.9 76.9 76.9 76.9 76.9 ...\n $ link          : chr  \"https://openpsychometrics.org/tests/characters/stats/AD/1\" \"https://openpsychometrics.org/tests/characters/stats/AD/1\" \"https://openpsychometrics.org/tests/characters/stats/AD/1\" \"https://openpsychometrics.org/tests/characters/stats/AD/1\" ...\n $ image_link    : chr  \"https://openpsychometrics.org/tests/characters/test-resources/pics/AD/1.jpg\" \"https://openpsychometrics.org/tests/characters/test-resources/pics/AD/1.jpg\" \"https://openpsychometrics.org/tests/characters/test-resources/pics/AD/1.jpg\" \"https://openpsychometrics.org/tests/characters/test-resources/pics/AD/1.jpg\" ...\n $ question      : chr  \"main character/side character\" \"🏋️‍♂️/🚴\" \"slacker/workaholic\" \"boy/girl-next-door/celebrity\" ...\n $ personality   : chr  \"main character\" \"🚴\" \"workaholic\" \"boy/girl-next-door\" ...\n $ avg_rating    : num  92.9 91.2 90.3 90.3 90.1 89.2 88.4 87.9 87.8 87.8 ...\n $ rank          : int  123 5 151 21 85 346 62 122 132 7 ...\n $ rating_sd     : num  14.2 10.3 13.1 11.5 13 13 14 17.7 13.3 10.5 ...\n $ number_ratings: int  11 56 89 28 63 60 67 63 78 75 ...\n```\n:::\n:::\n\nWorked like a charm!\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}