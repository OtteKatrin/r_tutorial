{
  "hash": "cf4b93f4818f7ed807c280e46065ea48",
  "result": {
    "markdown": "# Packages\n\nPackages are extensions to the `base R` you get by default. Most times they provide many new functions, bundled around a specific use case. When working with R you will have to rely heavily on packages developed by others. There are many, many great packages out there facilitating your work with R and making possible many different analyses, visualizations and many more.\n\nWe can compare them somewhat to apps in an appstore:\n\n![](./pictures/playstore.png){width=\"19\"}[^packages-1] First, we have to install the package: `install.packages(\"packagename\")`. - Most of the openly available packages lie on [CRAN](https://cran.r-project.org/) (Comprehensive R Archive Network). But you can also download packages form other sources, for example [GitHub](https://github.com/). This is what you did when downloading the `tutoR` package in [About this workshop](setup.qmd#about-this-workshop).\n\n[^packages-1]: Icons from [icons8.de](https://icons8.de).\n\n![](./pictures/app.png){width=\"19\"}[^packages-2] Then, we have to load them in each session where we want to use them (like tipping on the app icon): `library(packagename)`.\n\n[^packages-2]: Icons from [icons8.de](https://icons8.de).\n\n-   Note that in `install.packages(\"packagename\")` we have to put the package into quotation marks, when calling `library(packagename)` not.\n\n## Install packages\n\nBefore we can use packages we have to install them once. Most packages are hosted via the Comprehensive R Archive Network (CRAN), to install a package from there, we can use:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"aRtsy\")\n```\n:::\n\n\nBut often packages are only (or as well) provided via GitHub. To install a package from there, use:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndevtools::install_github(\"cutterkom/generativeart\")\n```\n:::\n\n\n## Load packages\n\nAfter installing a package, we have to load it into our R session:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#library(aRtsy)\n```\n:::\n\n\nNow we are free to use it, in this case to generate some artwork:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#set.seed(1)\n#canvas_collatz(colors = colorPalette(\"lava\"))\n```\n:::\n\n\n\n\n## Conflicts\n::: advanced\nOf course it can happen that different packages include functions with the same name. For example, look at the warnings we get when installing and then loading the packages `ggplot2` and `psych`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"ggplot2\")\ninstall.packages(\"psych\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(psych)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'psych'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:ggplot2':\n\n    %+%, alpha\n```\n:::\n:::\n\n\nThere seems to be a function named `alpha` which is included in both packages (but not the same function, just the same name). The warning message notifies us that the object `alpha` from `ggplot2` is masked, so if we call it, the `alpha` function from the `psych` package is used. To solve that quandary, we can use the `::` operator. In front we write the package name, and behind it the name of the function we want to use from that package:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot2::alpha()\npsych::alpha()\n```\n:::\n\n:::\n\n## Deliberate package management\n::: advanced\nFinally, a quick note on package management and reproducability of your code. R versions and package versions **will** change over time, in which case also the output of your code might change. Therefore, it is good practice to save the R version and package versions, so your code stays (kind of) reproducable for a longer period of time. The most straight forward thing to do is to just write down your R-version and the package versions at the top of your script. Call the versions you use with:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.3.1 (2023-06-16 ucrt)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 10 x64 (build 19045)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=German_Germany.utf8  LC_CTYPE=German_Germany.utf8   \n[3] LC_MONETARY=German_Germany.utf8 LC_NUMERIC=C                   \n[5] LC_TIME=German_Germany.utf8    \n\ntime zone: Europe/Berlin\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n[1] psych_2.3.6   ggplot2_3.4.2\n\nloaded via a namespace (and not attached):\n [1] vctrs_0.6.3       nlme_3.1-162      cli_3.6.1         knitr_1.43       \n [5] rlang_1.1.1       xfun_0.39         generics_0.1.3    renv_1.0.0       \n [9] jsonlite_1.8.7    glue_1.6.2        colorspace_2.1-0  htmltools_0.5.5  \n[13] scales_1.2.1      fansi_1.0.4       rmarkdown_2.23    grid_4.3.1       \n[17] evaluate_0.21     munsell_0.5.0     tibble_3.2.1      fastmap_1.1.1    \n[21] yaml_2.3.7        lifecycle_1.0.3   compiler_4.3.1    dplyr_1.1.2      \n[25] htmlwidgets_1.6.2 pkgconfig_2.0.3   rstudioapi_0.15.0 lattice_0.21-8   \n[29] digest_0.6.32     R6_2.5.1          tidyselect_1.2.0  utf8_1.2.3       \n[33] parallel_4.3.1    mnormt_2.1.1      pillar_1.9.0      magrittr_2.0.3   \n[37] withr_2.5.0       tools_4.3.1       gtable_0.3.3     \n```\n:::\n:::\n\n\nA more elegant approach to manage your packages is to use a dedicated package like [`renv`](https://rstudio.github.io/renv/articles/renv.html), which will make it a lot easier to manage your package versions. But this is past the scope of this workshop, just keep in mind it might be something rewarding to look at, if you should start to programm more with R. Instead, let's look at how to get data into R in the next chapter, so we can actually get to work with it.\n\n:::",
    "supporting": [
      "packages_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}